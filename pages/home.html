<!doctype html>
<html>

<head>
  <link rel="stylesheet" href="/view/style.css">
  <meta name="viewport" content="width=device-width">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function(){
        $("#navbar").load("/model/index.html");
  });
  </script>
</head>

  <div id="navbar">
  </div>

<body>
  <link rel="stylesheet" href="/view/home.css">

  <div class="canvas-overlay" id="mtseymour">
    <a href="javascript:void(0)" class="closebtn" id="canvasbtn" onclick="closeCanvas('mtseymour')">&times;</a>
    <h1>Mt. Seymour</h1>
    <div class="canvas-container" id="imgCanvas"></div>
  </div>

  <div class="modal" id="imgModal">
    <div class="closebtn" id="modalbtn" style="cursor: pointer" onclick="extZoom()">&times;</div>
      <img class="imgModal-content">
    </div>
  </div>


  <div class="canvas-cover">
    <div class="canvasImg" style="cursor: pointer" onclick="openCanvas('mtseymour')">
      <h1>Mt. Seymour</h1>
      <img src = "/images/portfolio/mt-seymour/20181201_121840.jpg">
    </div>
    <div class="canvasImg" style="cursor: pointer" onclick="openCanvas('mtseymour')">
      <h1>Mt. Seymour</h1>
      <img src = "/images/portfolio/mt-seymour/20181201_121840.jpg">
    </div>
  </div>

  <script>//create canvas from images stored in local folder
    var arr = [];
    var modal = document.getElementById("imgModal");
    var imgZoom = document.getElementsByClassName("imgModal-content")[0];

    $.getJSON('/json/imagesdb.json', function(data) {
      $.each(data.hikes, function(index, value) {
        arr.push(data.hikes[index].imgSrc);
      });
      console.log(arr.length);
      console.log(arr);
      for ( i = 0; i < arr.length; i++ ) {
        var newImg = document.createElement("IMG");
        newImg.setAttribute("src", `/images/portfolio/mt-seymour/${arr[i]}`);
        newImg.setAttribute("width", "600");
        newImg.setAttribute("height", "auto");
        newImg.setAttribute("id", arr[i]);
        document.getElementById("imgCanvas").appendChild(newImg);
        newImg.onclick = function() {
          modal.style.display = "block";
          imgZoom.src = this.src;
        }
      }
    });

    function extZoom() {
      modal.style.display = "none";
    }
  </script>

  <script>//open and close image canvas
    function openCanvas(param) {
      document.getElementById(param).style.width = "100%";
    }

    function closeCanvas(param) {
      document.getElementById(param).style.width = "0%";
    }
  </script>

</body>

</html>
